<?php
/*
 * test_271_codes.php
 * 
 * Copyright 2016 Kevin McCormick <kevin@kt61p>
 * 
 * This program is free software; you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation; either version 2 of the License, or
 * (at your option) any later version.
 * 
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 * 
 * You should have received a copy of the GNU General Public License
 * along with this program; if not, write to the Free Software
 * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston,
 * MA 02110-1301, USA.
 * 
 * 
 */

class edih_271_codes {
	//
	private $AAA03 = array(			
			'04'=>'Authorized quantity exceeded',
			'15'=>'Required application data missing',
			'35'=>'Out of Network',
			'41'=>'Authorization/Access restrictions',
			'42'=>'Unable to respond at current time.',
			'43'=>'Invalid/Missing provider information',
			'44'=>'Invalid/Missing provider name',
			'45'=>'Invalid/Missing provider speciality',
			'46'=>'Invalid/Missing provider phone number',
			'47'=>'Invalid/Missing provider state',
			'48'=>'Invalid/Missing referring provider identification number',
			'49'=>'Provider is not primary care physician',
			'50'=>'Provider ineligible for inquiries',
			'51'=>'Provider not on file',
			'52'=>'Service dates not within provider plan enrollment',
			'53'=>'Inquired benefit inconsistent with provider type',
			'56'=>'Inappropriate date',
			'57'=>'Invalid/Missing dates of service',
			'58'=>'Invalid/Missing date of birth',
			'60'=>'Date of birth follows date of service',
			'61'=>'Date of death preceeds dates of service',
			'62'=>'Date of service not within allowable inquiry period',
			'63'=>'Date of service in future',
			'64'=>'Invalid/Missing patient ID',
			'65'=>'Invalid/Missing patient name',
			'66'=>'Invalid/Missing patient gender code',
			'67'=>'Patient not found',
			'69'=>'Inconsistent with patient age.',
			'70'=>'Inconsistent with patient gender.',
			'71'=>'Patient birth date does not match that for the patient in the database',
			'72'=>'Invalid/Missing subscriber/insured ID',
			'73'=>'Invalid/Missing subscriber/insured name',
			'74'=>'Invalid/Missing subscriber/insured gender code',
			'75'=>'Subscriber/Insured not found',
			'76'=>'Duplicate Subscriber/Insured ID number',
			'77'=>'Subscriber found, patient not found',
			'78'=>'Subscriber/Insured not in Group/Plan identified',
			'79'=>'Invalid participant identification',
			'97'=>'invalid or missing provider address',
			'T4'=>'Payer name or identifier missing',
			'80'=>'No response received by clearinghouse',
			'98'=>'Expiremental service or procedure.',
			'AA'=>'Authorization number not found.',
			'AE'=>'Requires primary care physician authorization.',
			'AF'=>'Invalid/Missing diagnosis codes.',
			'AG'=>'Invalid/Missing procedure codes.',
			'AO'=>'Additional patient condition information required.',
			'CI'=>'Certification information does not match patient.',
			'E8'=>'Requires medical review.',
			'IA'=>'Invalid authorization number format.',
			'MA'=>'Missing authorization number.'			
			);

	private $AAA04 = array(	
			'C'=>'Please correct and resubmit',
			'N'=>'Resubmission not allowed',
			'P'=>'Please resubmit original transaction',
			'R'=>'Resubmission allowed',
			'S'=>'Do not resubmit; Inquiry initiated to a third party',
			'W'=>'Please wait 30 days and resubmit',
			'X'=>'Please wait 10 days and resubmit',  // 'Y'=>'Do not resubmit; We will hold your request and respond again shortly'
			'Y'=>'Do not resubmit; We will respond again shortly'
			);
			
	private $PRV = array(			
			'AD'=>'Admitting',
			'AT'=>'Attending',
			'BI'=>'Billing',
			'CO'=>'Consulting',
			'CV'=>'Covering',
			'H'=>'Hospital',
			'HH'=>'Home Health Care',
			'LA'=>'Laboratory',
			'OT'=>'Other Physician',
			'P1'=>'Pharmacy',
			'PC'=>'Primary Care Physician',
			'PE'=>'Performing',
			'R'=>'Rural Health Clinic',
			'RF'=>'Referring',
			'SB'=>'Sunmitting',
			'SK'=>'Skilled Nursing Facility',
			'SU'=>'Supervising'
			);
			
function edih_271_codes($segment_id, $code) {
	//
	$code271 = array();
	// AAA rejection reasons 
	$code271['AAA03'] = array(
			'04'=>'Authorized quantity exceeded',
			'15'=>'Required application data missing',
			'35'=>'Out of Network',
			'41'=>'Authorization/Access restrictions',
			'42'=>'Unable to respond at current time.',
			'43'=>'Invalid/Missing provider information',
			'44'=>'Invalid/Missing provider name',
			'45'=>'Invalid/Missing provider speciality',
			'46'=>'Invalid/Missing provider phone number',
			'47'=>'Invalid/Missing provider state',
			'48'=>'Invalid/Missing referring provider identification number',
			'49'=>'Provider is not primary care physician',
			'50'=>'Provider ineligible for inquiries',
			'51'=>'Provider not on file',
			'52'=>'Service dates not within provider plan enrollment',
			'53'=>'Inquired benefit inconsistent with provider type',
			'56'=>'Inappropriate date',
			'57'=>'Invalid/Missing dates of service',
			'58'=>'Invalid/Missing date of birth',
			'60'=>'Date of birth follows date of service',
			'61'=>'Date of death preceeds dates of service',
			'62'=>'Date of service not within allowable inquiry period',
			'63'=>'Date of service in future',
			'64'=>'Invalid/Missing patient ID',
			'65'=>'Invalid/Missing patient name',
			'66'=>'Invalid/Missing patient gender code',
			'67'=>'Patient not found',
			'69'=>'Inconsistent with patient age.',
			'70'=>'Inconsistent with patient gender.',
			'71'=>'Patient birth date does not match that for the patient in the database',
			'72'=>'Invalid/Missing subscriber/insured ID',
			'73'=>'Invalid/Missing subscriber/insured name',
			'74'=>'Invalid/Missing subscriber/insured gender code',
			'75'=>'Subscriber/Insured not found',
			'76'=>'Duplicate Subscriber/Insured ID number',
			'77'=>'Subscriber found, patient not found',
			'78'=>'Subscriber/Insured not in Group/Plan identified',
			'79'=>'Invalid participant identification',
			'97'=>'invalid or missing provider address',
			'T4'=>'Payer name or identifier missing',
			'80'=>'No response received by clearinghouse',
			'98'=>'Expiremental service or procedure.',
			'AA'=>'Authorization number not found.',
			'AE'=>'Requires primary care physician authorization.',
			'AF'=>'Invalid/Missing diagnosis codes.',
			'AG'=>'Invalid/Missing procedure codes.',
			'AO'=>'Additional patient condition information required.',
			'CI'=>'Certification information does not match patient.',
			'E8'=>'Requires medical review.',
			'IA'=>'Invalid authorization number format.',
			'MA'=>'Missing authorization number.'			
			);
			
	// follow-up action cade
	$code271['AAA04'] = array(	
			'C'=>'Please correct and resubmit',
			'N'=>'Resubmission not allowed',
			'P'=>'Please resubmit original transaction',
			'R'=>'Resubmission allowed',
			'S'=>'Do not resubmit; Inquiry initiated to a third party',
			'W'=>'Please wait 30 days and resubmit',
			'X'=>'Please wait 10 days and resubmit',
			'Y'=>'Do not resubmit; We will hold your request and respond again shortly'
			);
			
			
	// provider PRV codes
	$code271['PRV'] = array(			
			'AD'=>'Admitting',
			'AT'=>'Attending',
			'BI'=>'Billing',
			'CO'=>'Consulting',
			'CV'=>'Covering',
			'H'=>'Hospital',
			'HH'=>'Home Health Care',
			'LA'=>'Laboratory',
			'OT'=>'Other Physician',
			'P1'=>'Pharmacy',
			'PC'=>'Primary Care Physician',
			'PE'=>'Performing',
			'R'=>'Rural Health Clinic',
			'RF'=>'Referring',
			'SB'=>'Sunmitting',
			'SK'=>'Skilled Nursing Facility',
			'SU'=>'Supervising'
			);
			
	//REF codes
	$code271['REF'] = array(
			'18'=>'Plan Number',
			'1L'=>'Group or Policy number',
			'1W'=>'Member identification number',
			'3H'=>'Case number',
			'49'=>'Family unit number',
			'6P'=>'Group number',
			'CE'=>'Class of contract code',
			'CT'=>'Provider contract number',
			'EA'=>'Medical record identification number',
			'EJ'=>'Patient account number',
			'F6'=>'Health insurance claim (HIC) number',
			'GH'=>'Identification card serial number',
			'HJ'=>'Identity card number',
			'IF'=>'Issue number',
			'IG'=>'Insurance policy number',
			'N6'=>'Plan network identification number',
			'NQ'=>'Medicaid recipient identification number',
			'Q4'=>'Prior identifier number',
			'SY'=>'Social security number',
			'Y4'=>'Agency claim number'
			);
			
	// DTP date qualifiers
	$code271['DTP'] = array(
			'096'=>'Discharge',
			'102'=>'Issue',
			'152'=>'Effective date of change',
			'291'=>'Plan',
			'307'=>'Eligibility',
			'318'=>'Added',
			'340'=>'COBRA begin',
			'341'=>'COBRA end',
			'342'=>'Premium paid to date begin',
			'343'=>'Premium paid to date end',
			'346'=>'Plan begin',
			'347'=>'Plan end',
			'356'=>'Eligibility begin',
			'357'=>'Eligibility end',
			'382'=>'Enrollment',
			'435'=>'Admission',
			'442'=>'Date of death',
			'458'=>'Certification',
			'472'=>'Service',
			'539'=>'Policy effective',
			'540'=>'Policy expiration',
			'636'=>'Date of last update',
			'771'=>'Status'
			);


	//entity identifier code  --code source 237
	$code271['NM101'] = array(	
			'03'=>'Dependent',
			'13'=>'Contracted Service Provider',
			'1I'=>'Preferred Provider Organization (PPO)',
			'1P'=>'Provider',
			'2B'=>'Third-Party Administrator',
			'36'=>'Employer',
			'70'=>'Prior Incorrect Insured',
			'71'=>'Attending Physician',
			'72'=>'Operating Physician',
			'73'=>'Other Physician',
			'74'=>'Corrected Insured',
			'75'=>'Participant',
			'EXS'=>'Ex-spouse',
			'FA'=>'Facility',
			'GM'=>'Spouse Insured',
			'GP'=>'Gateway Provider',
			'GW'=>'Group',
			'HF'=>'HPSA Facility',
			'HH'=>'Home Health Agency',
			'I3'=>'Independent Physicians Association (IPA)',
			'IL'=>'Insured or Subscriber',
			'IR'=>'Self Insured',
			'LR'=>'Legal Representative',
			'NZ'=>'Primary Physician',
			'OC'=>'Origin Carrier',
			'P2'=>'Primary Insured or Subscriber',
			'P3'=>'Primary Care Provider',
			'P4'=>'Prior Insurance Carrier',
			'P5'=>'Plan Sponsor',
			'PR'=>'Payer',
			'SEP'=>'Secondary Payer',
			'TTP'=>'Tertiary Payer',
			'VER'=>'Party Performing Verification',
			'VN'=>'Vendor',
			'VY'=>'Organization Completing Configuration Change',
			'X3'=>'Utilization Management Organization',
			'X4'=>'Spouse',
			'Y2'=>'Managed Care Organization',
			'AAG'=>'Ground Ambulance Services',
			'AAK'=>'Primary Surgeon',
			'AAL'=>'Medical Nurse',
			'AAM'=>'Cardiac Rehabilitation Services',
			'AAN'=>'Skilled Nursing Services',
			'AAO'=>'Observation Room Services',
			'AAQ'=>'Anesthesiology Services',
			'NCT'=>'Name Changed To',
			'ORI'=>'Original Name',
			'5T'=>'X-Ray Radiation Therapy Unit',
			'5U'=>'CT Scanner Unit',
			'5V'=>'Diagnostic Radioisotope Facility',
			'5W'=>'Magnetic Resonance Imaging (MRI) Facility',
			'5X'=>'Ultrasound Unit',
			'5Y'=>'Rehabilitation Inpatient Unit',
			'5Z'=>'Rehabilitation Outpatient Services'			
			);

	// entity ID type code
	$code271['NM108'] = array(
			'24'=>'Employer ID Number (EIN)',
			'46'=>'Electronic Transmiter ID (ETIN)',
			'FI'=>'Federal Taxpayer ID',
			'NI'=>'NAIC Identification',
			'PI'=>'Payor ID',
			'XV'=>'CMS Plan ID',
			'XX'=>'CMS National ID',
			'II'=>'Standard Unique Health ID', 
			'MI'=>'Member ID',
			'SV'=>'Service Provider Number'
			);

	// Name -- entity relationship code
	$code271['NM110'] = array(
			'01'=>'Parent',
			'02'=>'Child',
			'27'=>'Domestic Partner',
			'41'=>'Spouse',
			'48'=>'Employee',
			'65'=>'Other',
			'72'=>'Unknown'
			);

	//	contact number identifier
	$code271['PER03'] = array(
			'ED'=>'EDI Access Number',
			'EM'=>'Electronic Mail',
			'FX'=>'Facsimile',
			'TE'=>'Telephone',
			'UR'=>'URL'
			);
		
	// MPI  qualifiers
	// the MPI03 Service affiliation qualifiers have 'SB' prepended
	$code271['MPI'] = array(
			'A'=>'Partial',
			'C'=>'Current',
			'L'=>'Latest',
			'O'=>'Oldest',
			'P'=>'Prior',
			'S'=>'Second most current',
			'T'=>'Third most current',
			'AE'=>'Active reserve',
			'AO'=>'Active military - overseas',
			'AS'=>'Academy student',
			'AT'=>'Presidential appointee',
			'CC'=>'Contractor',
			'DD'=>'Dishonorably discharges',
			'HD'=>'Honorably discharges',
			'IR'=>'Inactive reserve',
			'LX'=>'Leave of absence: military',
			'PE'=>'Plan to enlist',
			'RE'=>'REcommissioned',
			'RM'=>'Retired military - overseas',
			'RR'=>'Retired without recall',
			'RU'=>'REtired military - USA',
			'SBA'=>'Air Force',
			'SBB'=>'Air Force Reserves',
			'SBC'=>'Army',
			'SBD'=>'Army Reserves',
			'SBE'=>'Coast Guard',
			'SBF'=>'Marine Corps',
			'SBG'=>'Marine Corps Reserves',
			'SBH'=>'National Guard',
			'SBI'=>'Navy',
			'SBJ'=>'Navy Reserves',
			'SBK'=>'Other',
			'SBL'=>'Peace Corp',
			'SBM'=>'Regular Armed Forces',
			'SBN'=>'Reserves',
			'SBO'=>'U.S. Public Health Service',
			'SBQ'=>'Foreign Military',
			'SBR'=>'American Red Cross',
			'SBS'=>'Department of Defvense',
			'SBU'=>'Unites Services Organization',
			'SBW'=>'Military Sealift Command',
			'A1'=>'Admiral',
			'A2'=>'Airman',
			'A3'=>'Airman First Class',
			'B1'=>'Basic Airman',
			'B2'=>'Brigadier General',
			'C1'=>'Captain',
			'C2'=>'Chief Master Sergeant',
			'C3'=>'Chief Petty Officer',
			'C4'=>'Chief Warrant',
			'C5'=>'Colonel',
			'C6'=>'Commander',
			'C7'=>'Commodore',
			'C8'=>'Corporal',
			'C9'=>'Corporal Specialist 4',
			'E1'=>'Ensign',
			'F1'=>'First Lieutenant',
			'F2'=>'First Sergeant',
			'F3'=>'First Sergeant-Master Sergeant',
			'F4'=>'Fleet Admiral',
			'G1'=>'General',
			'G4'=>'Gunnery Sergeant',
			'L1'=>'Lance Corporal',
			'L2'=>'Lieutenant',
			'L3'=>'Lieutenant Colonel',
			'L4'=>'Lieutenant Commander',
			'L5'=>'Lieutenant General',
			'L6'=>'Lieutenant Junior Grade',
			'M1'=>'Major',
			'M2'=>'Major General',
			'M3'=>'Master Chief Petty Officer',
			'M4'=>'Master Gunnery Sergeant Major',
			'M5'=>'Master Sergeant',
			'M6'=>'Master Sergeant Specialist 8',
			'P1'=>'Petty Officer First Class',
			'P2'=>'Petty Officer Second Class',
			'P3'=>'Petty Officer Third Class',
			'P4'=>'Private',
			'P5'=>'Private First Class',
			'R1'=>'Rear Admiral',
			'R2'=>'Recruit',
			'S1'=>'Seaman',
			'S2'=>'Seaman Apprentice',
			'S3'=>'Seaman Recruit',
			'S4'=>'Second Lieutenant',
			'S5'=>'Senior Chief Petty Officer',
			'S6'=>'Senior Master Sergeant',
			'S7'=>'Sergeant',
			'S8'=>'Sergeant First Class Specialist 7',
			'S9'=>'Sergeant Major Specialist 9',
			'SA'=>'Sergeant Specialist 5',
			'SB'=>'Staff Sergeant',
			'SC'=>'Staff Sergeant Specialist 6',
			'T1'=>'Technical Sergeant',
			'V1'=>'Vice Admiral',
			'W1'=>'Warrant Officer'			
			);

	// eligibility or benifit information code
	$code271['EB01'] = array(			
			'1'=>'Active Coverage',
			'2'=>'Active - Full Risk Capitation',
			'3'=>'Active - Services Capitated',  //			'4'=>'Active - Services Capitated to Primary Care Physician',
			'4'=>'Active - Capitated to PCP',
			'5'=>'Active - Pending Investigation',
			'6'=>'Inactive',  //			'7'=>'Inactive - Pending Eligibility Update',
			'7'=>'Inactive - Pending Elig Update',
			'8'=>'Inactive - Pending Investigation',
			'A'=>'Co-Insurance',
			'B'=>'Co-Payment',
			'C'=>'Deductible',
			'D'=>'Benefit Description',
			'E'=>'Exclusions',
			'F'=>'Limitations',
			'G'=>'Out of Pocket (Stop Loss)',
			'H'=>'Unlimited',
			'I'=>'Non-Covered',
			'J'=>'Cost Containment',
			'K'=>'Reserve',
			'L'=>'Primary Care Provider',
			'M'=>'Pre-existing Condition',
			'N'=>'Services Restricted to Following Provider',
			'O'=>'Not Deemed a Medical Necessity',
			'P'=>'Benefit Disclaimer',
			'Q'=>'Second Surgical Opinion Required',
			'R'=>'Other or Additional Payor',
			'S'=>'Prior Year(s) History',
			'T'=>'Card(s) Reported Lost/Stolen',  //			'U'=>'Contact Following Entity for Eligibility or Benefit Information',
			'U'=>'Contact Entity for Information',
			'V'=>'Cannot Process',
			'W'=>'Other Source of Data',
			'X'=>'Health Care Facility',
			'Y'=>'Spend Down',
			'CB'=>'Coverage Basis',
			'MC'=>'Managed Care Coordinator'
			);
	
	// coverage level code		
	$code271['EB02'] = array(		
			'CHD'=>'Children Only',
			'DEP'=>'Dependents Only',
			'E1D'=>'Employee and One Dependent',
			'E2D'=>'Employee and Two Dependents',
			'E3D'=>'Employee and Three Dependents',
			'E5D'=>'Employee and One or More Dependents',
			'E6D'=>'Employee and Two or More Dependents',
			'E7D'=>'Employee and Three or More Dependents',
			'E8D'=>'Employee and Four or More Dependents',
			'E9D'=>'Employee and Five or More Dependents',
			'ECH'=>'Employee and Children',
			'EMP'=>'Employee Only',
			'ESP'=>'Employee and Spouse',
			'FAM'=>'Family',
			'IND'=>'Individual',
			'SPC'=>'Spouse and Children',
			'SPO'=>'Spouse Only',
			'TWO'=>'Two Party'
			);
	
	// service type code 
	$code271['EB03'] = array(
			'1'=>'Medical Care',
			'2'=>'Surgical',
			'3'=>'Consultation',
			'4'=>'Diagnostic X-Ray',
			'5'=>'Diagnostic Lab',
			'6'=>'Radiation Therapy',
			'7'=>'Anesthesia',
			'8'=>'Surgical Assistance',
			'10'=>'Blood',
			'11'=>'Durable Medical Equipment Used',
			'12'=>'Durable Medical Equipment Purchased',
			'14'=>'Renal Supplies',
			'17'=>'Pre-Admission Testing',
			'18'=>'Durable Medical Equipment Rental',
			'19'=>'Pneumonia Vaccine',
			'20'=>'Second Surgical Opinion',
			'21'=>'Third Surgical Opinion',
			'22'=>'Social Work',
			'23'=>'Diagnostic Dental',
			'24'=>'Periodontics',
			'25'=>'Restorative',
			'26'=>'Endodontics',
			'27'=>'Maxillofacial Prosthetics',
			'28'=>'Adjunctive Dental Services',
			'30'=>'Health Benefit Plan Coverage',
			'32'=>'Plan Waiting Period',
			'33'=>'Chiropractic',
			'34'=>'Chiropractic Modality',
			'35'=>'Dental Care',
			'36'=>'Dental Crowns',
			'37'=>'Dental Accident',
			'38'=>'Orthodontics',
			'39'=>'Prosthodontics',
			'40'=>'Oral Surgery',
			'41'=>'Preventive Dental',
			'42'=>'Home Health Care',
			'43'=>'Home Health Prescriptions',
			'45'=>'Hospice',
			'46'=>'Respite Care',
			'47'=>'Hospitalization',
			'49'=>'Hospital - Room and Board',
			'54'=>'Long Term Care',
			'55'=>'Major Medical',
			'56'=>'Medically Related Transportation',
			'60'=>'General Benefits',
			'61'=>'In-vitro Fertilization',
			'62'=>'MRI Scan',
			'63'=>'Donor Procedures',
			'64'=>'Acupuncture',
			'65'=>'Newborn Care',
			'66'=>'Pathology',
			'67'=>'Smoking Cessation',
			'68'=>'Well Baby Care',
			'69'=>'Maternity',
			'70'=>'Transplants',
			'71'=>'Audiology',
			'72'=>'Inhalation Therapy',
			'73'=>'Diagnostic Medical',
			'74'=>'Private Duty Nursing',
			'75'=>'Prosthetic Device',
			'76'=>'Dialysis',
			'77'=>'Otology',
			'78'=>'Chemotherapy',
			'79'=>'Allergy Testing',
			'80'=>'Immunizations',
			'81'=>'Routine Physical',
			'82'=>'Family Planning',
			'83'=>'Infertility',
			'84'=>'Abortion',
			'85'=>'HIV - AIDS Treatment',
			'86'=>'Emergency Services',
			'87'=>'Cancer Treatment',
			'88'=>'Pharmacy',
			'89'=>'Free Standing Prescription Drug',
			'90'=>'Mail Order Prescription Drug',
			'91'=>'Brand Name Prescription Drug',
			'92'=>'Generic Prescription Drug',
			'93'=>'Podiatry',
			'94'=>'Podiatry - Office Visits',
			'95'=>'Podiatry - Nursing Home Visits',
			'96'=>'Professional (Physician)',
			'97'=>'Anesthesiologist', 				// '98'=>'Professional (Physician) Visit - Office',
			'98'=>'Physician Visit - Office',  		// '99'=>'Professional (Physician) Visit - Inpatient',
			'99'=>'Physician Visit - Inpatient',	// 'A0'=>'Professional (Physician) Visit - Outpatient',
			'A0'=>'Physician Visit - Outpatient',	// 'A1'=>'Professional (Physician) Visit - Nursing Home',
			'A1'=>'Physician Visit - Nursing Home',	// 'A2'=>'Professional (Physician) Visit - Skilled Nursing Facility',
			'A2'=>'Physician Visit - SNF',			// 'A3'=>'Professional (Physician) Visit - Home',
			'A3'=>'Physician Visit - Home',			// 
			'A4'=>'Psychiatric',
			'A5'=>'Psychiatric - Room and Board',
			'A6'=>'Psychotherapy',
			'A7'=>'Psychiatric - Inpatient',
			'A8'=>'Psychiatric - Outpatient',
			'A9'=>'Rehabilitation',
			'AB'=>'Rehabilitation - Inpatient',
			'AC'=>'Rehabilitation - Outpatient',
			'AD'=>'Occupational Therapy',
			'AE'=>'Physical Medicine',
			'AF'=>'Speech Therapy',
			'AG'=>'Skilled Nursing Care',
			'AI'=>'Substance Abuse',
			'AJ'=>'Alcoholism Treatment',
			'AK'=>'Drug Addiction',
			'AL'=>'Optometry',
			'AM'=>'Frames',
			'AO'=>'Lenses',
			'AP'=>'Routine Eye Exam',
			'AQ'=>'Nonmedically Necessary Physical (e.g. insurance app, pilot license, employment, or school)',
			'AR'=>'Experimental Drug Therapy',
			'B1'=>'Burn Care',
			'B2'=>'Brand Name Prescription Drug - Formulary',
			'B3'=>'Brand Name Prescription Drug - Non-Formulary',
			'BA'=>'Independent Medical Evaluation',
			'BB'=>'Psychiatric Treatment Partial Hospitalization',
			'BC'=>'Day Care (Psychiatric)',
			'BD'=>'Cognitive Therapy',
			'BE'=>'Massage Therapy',
			'BF'=>'Pulmonary Rehabilitation',
			'BG'=>'Cardiac Rehabilitation',
			'BH'=>'Pediatric',
			'BI'=>'Nursery Room and Board',
			'BK'=>'Orthopedic',
			'BL'=>'Cardiac',
			'BM'=>'Lymphatic',
			'BN'=>'Gastrointestinal',
			'BP'=>'Endocrine',
			'BQ'=>'Neurology',
			'BR'=>'Eye',
			'BS'=>'Invasive Procedures',
			'BT'=>'Gynecological',
			'BU'=>'Obstetrical',
			'BV'=>'Obstetrical/Gynecological',
			'BW'=>'Mail Order Prescription Drug: Brand Name',
			'BX'=>'Mail Order Prescription Drug: Generic',
			'BY'=>'Physician Visit - Sick',
			'BZ'=>'Physician Visit - Well',
			'C1'=>'Coronary Care',
			'CA'=>'Private Duty Nursing - Inpatient',
			'CB'=>'Private Duty Nursing - Home',
			'CC'=>'Surgical Benefits - Professional (Physician)',
			'CD'=>'Surgical Benefits - Facility',
			'CE'=>'Mental Health Provider - Inpatient',
			'CF'=>'Mental Health Provider - Home',
			'CG'=>'Mental Health Facility - Inpatient',
			'CH'=>'Mental Health Facility - Outpatient',
			'CI'=>'Substance Abuse Facility - Inpatient',
			'CJ'=>'Substance Abuse Facility - Outpatient',
			'CK'=>'Screening X-ray',
			'CL'=>'Screening laboratory',
			'CM'=>'Mammogram, High Risk Patient',
			'CN'=>'Mammogram, Low Risk Patient',
			'CO'=>'Flu Vaccination',
			'CP'=>'Eyewear and Eyewear Accessories',
			'CQ'=>'Case Management',
			'DG'=>'Dermatology',
			'DM'=>'Durable Medical Equipment',
			'DS'=>'Diabetic Supplies',
			'E0'=>'Allied Behavioral Analysis Therapy',
			'E1'=>'Non-Medical Equipment (non DME)',
			'E2'=>'Psychiatric Emergency',
			'E3'=>'Step Down Unit',
			'E4'=>'Skilled Nursing Facility Head Level of Care',
			'E5'=>'Skilled Nursing Facility Ventilator Level of Care',
			'E6'=>'Level of Care 1',
			'E7'=>'Level of Care 2',
			'E8'=>'Level of Care 3',
			'E9'=>'Level of Care 4',
			'E10'=>'Radiographs',
			'E11'=>'Diagnostic Imaging',
			'E12'=>'Basic Restorative - Dental',
			'E13'=>'Major Restorative - Dental',
			'E14'=>'Fixed Prosthodontics',
			'E15'=>'Removable Prosthodontics',
			'E16'=>'Intraoral Images - Complete Series',
			'E17'=>'Oral Evaluation',
			'E18'=>'Dental Prophylaxis',
			'E19'=>'Panoramic Images',
			'E20'=>'Sealants',
			'E21'=>'Flouride Treatments',
			'E22'=>'Dental Implants',
			'E23'=>'Temporomandibular Joint Dysfunction',
			'E24'=>'Retail Pharmacy Prescription Drug',
			'E25'=>'Long Term Care Pharmacy',				// 'E26'=>'Comprehensive Medication Therapy Management Review',
			'E26'=>'Comp Med Therapy Mgmt Review',			// 'E27'=>'Targeted Medication Therapy Management Review',
			'E27'=>'Targeted Med Therapy Mgmt Review',
			'E28'=>'Dietary/Nutritional Services',
			'EA'=>'Preventive Services',
			'EB'=>'Specialty Pharmacy',
			'EC'=>'Durable Medical Equipment New',
			'ED'=>'CAT Scan',
			'EE'=>'Ophthalmology',
			'EF'=>'Contact Lenses',							// 'GF'=>'Generic Prescription Drug - Formulary',
			'GF'=>'Generic Rx - Formulary',					// 'GN'=>'Generic Prescription Drug - Non-Formulary',
			'GN'=>'Generic Rx - Non-Formulary',
			'GY'=>'Allergy',
			'IC'=>'Intensive Care',
			'MH'=>'Mental Health',
			'NI'=>'Neonatal Intensive Care',
			'ON'=>'Oncology',								// 'PE'=>'Positron Emission Tomography (PET) Scan',
			'PE'=>'(PET) Scan',
			'PT'=>'Physical Therapy',
			'PU'=>'Pulmonary',
			'RN'=>'Renal',
			'RT'=>'Residential Psychiatric Treatment',
			'SMH'=>'Serious Mental Health',
			'TC'=>'Transitional Care',
			'TN'=>'Transitional Nursery Care',
			'UC'=>'Urgent Care'
			);
			
	// insurance type codes
	$code271['EB04'] = array(			
			'D'=>'Disability',
			//'12'=>'Medicare Secondary Working Aged Beneficiary or Spouse with Employer Group Health Plan',
			//'13'=>'Medicare Secondary End-Stage Renal Disease Beneficiary in the 12 month coordination period with an employer\'s group health plan',
			//'14'=>'Medicare Secondary, No-fault Insurance including Auto is Primary',
			//'15'=>'Medicare Secondary Worker\'s Compensation',
			//'16'=>'Medicare Secondary Public Health Service (PHS)or Other Federal Agency',
			//'41'=>'Medicare Secondary Black Lung',
			//'42'=>'Medicare Secondary Veteran\'s Administration',
			//'43'=>'Medicare Secondary Disabled Beneficiary Under Age 65 with Large Group Health Plan (LGHP)',
			//'47'=>'Medicare Secondary, Other Liability Insurance is Primary',
			'12'=>'Medicare Secondary',
			'13'=>'Medicare Secondary (ESRD)',
			'14'=>'Medicare Secondary (No-fault Primary)',
			'15'=>'Medicare Secondary (WC)',
			'16'=>'Medicare Secondary (PHS)',
			'41'=>'Medicare Secondary (Black Lung)',
			'42'=>'Medicare Secondary (VA)',
			'43'=>'Medicare Secondary (LGHP)',
			'47'=			
			'AP'=>'Auto Insurance Policy',
			'C1'=>'Commercial',
//			'CO'=>'Consolidated Omnibus Budget Reconciliation Act (COBRA)',
			'CO'=>'(COBRA)',
			'CP'=>'Medicare Conditionally Primary',
			'DB'=>'Disability Benefits',
			'EP'=>'Exclusive Provider Organization',
			'FF'=>'Family or Friends',
			'GP'=>'Group Policy',
			//'HM'=>'Health Maintenance Organization (HMO)',
			//'HN'=>'Health Maintenance Organization (HMO) - Medicare Risk',
			//'HS'=>'Special Low Income Medicare Beneficiary',
			'HM'=>'(HMO)',
			'HN'=>'(HMO) - Medicare Risk',
			'HS'=>'Special Low Income Medicare',			
			'IN'=>'Indemnity',
			'IP'=>'Individual Policy',
			'LC'=>'Long Term Care',
			'LD'=>'Long Term Policy',
			'LI'=>'Life Insurance',
			'LT'=>'Litigation',
			'MA'=>'Medicare Part A',
			'MB'=>'Medicare Part B',
			'MC'=>'Medicaid',
			'MH'=>'Medigap Part A',
			'MI'=>'Medigap Part B',
			'MP'=>'Medicare Primary',
			'OT'=>'Other',
//			'PE'=>'Property Insurance - Personal',
			'PE'=>'Property Ins - Personal',
			'PL'=>'Personal',
			//'PP'=>'Personal Payment (Cash - No Insurance)',
			//'PR'=>'Preferred Provider Organization (PPO)',
			'PP'=>'Cash (No Ins)',
			'PR'=>'(PPO)',			
			'PS'=>'Point of Service (POS)',
			'QM'=>'Qualified Medicare Beneficiary',
			'RP'=>'Property Insurance - Real',
			'SP'=>'Supplemental Policy',
//			'TF'=>'Tax Equity Fiscal Responsibility Act (TEFRA)',
			'TF'=>'(TEFRA)',
			'WC'=>'Workers Compensation',
			'WU'=>'Wrap Up Policy'
			);
			
	// time period qualifier
	$code271['EB06'] = array(			
			'1'=>'Month',
			'2'=>'Year',
			'6'=>'Hour',
			'7'=>'Day',
			'21'=>'Years',
			'22'=>'Service Year',
			'23'=>'Calendar Year',
			'24'=>'Year to Date',
			'25'=>'Contract',
			'26'=>'Episode',
			'27'=>'Visit',
			'28'=>'Outlier',
			'29'=>'Remaining',
			'30'=>'Exceeded',
			'31'=>'Not Exceeded',
			'33'=>'Lifetime Remaining',
			'34'=>'Month',
			'35'=>'Week',
			'36'=>'Admission',
/			'A'=>'Hourly Appurtenance Units (Hours of Enhancement/Addition to Equipment)',
			'A'=>'Hourly Appurtenance Units',
			'D'=>'Daily Time Units',
			'H'=>'Hourly Time Units',
			'O'=>'Other Time Units'
			);
			
	// quantity type qualifier
	$code271['EB09'] = array(
			'8H'=>'Minimum',
			'99'=>'Quantity Used',
			'CA'=>'Covered - Actual',
			'CE'=>'Covered - Estimated',
			'D3'=>'Number of Co-insurance Days',
			'DB'=>'Deductible Blood Units',
			'DY'=>'Days',
			'HS'=>'Hours',
			'LA'=>'Life-time Reserve - Actual',
			'LE'=>'Life-time Reserve - Estimated',
			'M2'=>'Maximum',
			'MN'=>'Month',
			'P6'=>'Number of Services or Procedures',
			'QA'=>'Quantity Approved',
			'S7'=>'Age, High Value',
			'S8'=>'Age, Low Value',
			'VS'=>'Visits',
			'YY'=>'Years'
			);
		
	// product/service id qualifier
	$code271['EB13'] = array(
			'AD'=>'American Dental Assoc Codes',
			'CJ'=>'CPT Codes',
			'HC'=>'HCPCS Codes',
			'ID'=>'ICD-9-CM - Procedure',					// 'IV'=>'Home Infusion EDI Coalition (HIEC) Product/Service Code',
			'IV'=>'(HIEC) Product/Service Code',			// 'N4'=>'National Drug Code in 5-4-2 Format',
			'N4'=>'Nat\'l Drug Code 5-4-2 Fmt',
			'ZZ'=>'Mutually Defined'
			);	
			
	// quantity qualifier - unit or basis copde
	$code271['HSD'] = array(	
			'DY'=>'Days',
			'FL'=>'Units',
			'HS'=>'Hours',
			'MN'=>'Month',
			'VS'=>'Visit',
			'DA'=>'Days',
			'MO'=>'Months',
			'WK'=>'Week',
			'YR'=>'Years'			
			);

	// delivery frequency code
	$code271['HSD07'] = array(
			'1'=>'1st Week of the Month',
			'2'=>'2nd Week of the Month',
			'3'=>'3rd Week of the Month',
			'4'=>'4th Week of the Month',
			'5'=>'5th Week of the Month',
			'6'=>'1st & 3rd Weeks of the Month',
			'7'=>'2nd & 4th Weeks of the Month',
			'8'=>'1st Working Day of Period',
			'9'=>'Last Working Day of Period',
			'A'=>'Monday through Friday',
			'B'=>'Monday through Saturday',
			'C'=>'Monday through Sunday',
			'D'=>'Monday',
			'E'=>'Tuesday',
			'F'=>'Wednesday',
			'G'=>'Thursday',
			'H'=>'Friday',
			'J'=>'Saturday',
			'K'=>'Sunday',
			'L'=>'Monday through Thursday',
			'M'=>'Immediately',
			'N'=>'As Directed',
			'O'=>'Daily Mon. through Fri.',
			'P'=>'1/2 Mon. & 1/2 Thurs.',
			'Q'=>'1/2 Tues. & 1/2 Thurs.',
			'R'=>'1/2 Wed. & 1/2 Fri.',
			'S'=>'Once Anytime Mon. through Fri.',
			'T'=>'1/2 Tue. & 1/2 Fri.',
			'U'=>'1/2 Mon. & 1/2 Wed.',
			'V'=>'1/3 Mon., 1/3 Wed., 1/3 Fri.',
			'W'=>'Whenever Necessary',
			'X'=>'1/2 By Wed., Bal. By Fri.',
			'Y'=>'None (Also Used to Cancel or Override a Previous Pattern)',
			'Z'=>'Mutually Defined',
			'SA'=>'Sunday, Monday, Thursday, Friday, Saturday',
			'SB'=>'Tuesday through Saturday',
			'SC'=>'Sunday, Wednesday, Thursday, Friday, Saturday',
			'SD'=>'Monday, Wednesday, Thursday, Friday, Saturday',
			'SG'=>'Tuesday through Friday',
			'SL'=>'Monday, Tuesday and Thursday',
			'SP'=>'Monday, Tuesday and Friday',
			'SX'=>'Wednesday and Thursday',
			'SY'=>'Monday, Wednesday and Thursday',
			'SZ'=>'Tuesday, Thursday and Friday',
			);

	// Ship/Delivery Pattern Time Code
	$code271['HSD08'] = array(			
			'A'=>'1st Shift (Normal Working Hours)',
			'B'=>'2nd Shift',
			'C'=>'3rd Shift',
			'D'=>'A.M.',
			'E'=>'P.M.',
			'F'=>'As Directed',
			'G'=>'Any Shift',
			'Y'=>'None (Also Cancel or Override Previous)',
			'Z'=>'Mutually Defined'
			);
			
	//place of service  --code source 237
	$code271['POS'] = array(				
			'01'=>'Pharmacy',
			'02'=>'Unassigned',
			'03'=>'School',
			'04'=>'Homeless Shelter',
			'05'=>'Indian Health Service Free-standing Facility',
			'06'=>'Indian Health Service Provider-based Facility',
			'07'=>'Tribal 638 Free-standing Facility',
			'08'=>'Tribal 638 Provider-based Facility',
			'09'=>'Prison/Correctional Facility',
			'11'=>'Office',
			'12'=>'Home ',
			'13'=>'Assisted Living Facility',
			'14'=>'Group Home',
			'15'=>'Mobile Unit',
			'16'=>'Temporary Lodging',
			'17'=>'Walk-in Retail Health Clinic',
			'20'=>'Urgent Care Facility',
			'21'=>'Inpatient Hospital',
			'22'=>'Outpatient Hospital',
			'23'=>'Emergency Room - Hospital',
			'24'=>'Ambulatory Surgical Center',
			'25'=>'Birthing Center',
			'26'=>'Military Treatment Facility',
			'31'=>'Skilled Nursing Facility',
			'32'=>'Nursing Facility',
			'33'=>'Custodial Care Facility',
			'34'=>'Hospice',
			'41'=>'Ambulance - Land',
			'42'=>'Ambulance - Air or Water',
			'49'=>'Independent Clinic',
			'50'=>'Federally Qualified Health Center',
			'51'=>'Inpatient Psychiatric Facility',
			'52'=>'Psychiatric Facility-Partial Hospitalization',
			'53'=>'Community Mental Health Center',
			'54'=>'Intermediate Care Facility/Mentally Retarded',
			'55'=>'Residential Substance Abuse Treatment Facility',
			'56'=>'Psychiatric Residential Treatment Center',
			'57'=>'Non-residential Substance Abuse Treatment Facility',
			'60'=>'Mass Immunization Center',
			'61'=>'Comprehensive Inpatient Rehabilitation Facility',
			'62'=>'Comprehensive Outpatient Rehabilitation Facility',
			'71'=>'Public Health Clinic',
			'72'=>'Rural Health Clinic',
			'81'=>'Independent Laboratory',
			'99'=>'Other Place of Service'
			);


			
	// insurance relationship code  
	$code271['INS02'] = array(	
			'18'=>'self',
			'01'=>'spouse',
			'19'=>'child', 
			'20'=>'employee',
			'21'=>'unknown'
			);
	//
	if ( array_key_exists($segment_id, $code271) ) {
		$val = (isset($code271[$segment_id][$code]) ) ? $code271[$segment_id][$code] : "code $code not found";
	} else {
		$val = "segment $segment_id codes ($code) not available";
	}
	//
	return $val;
}
